---
title: 数据库总结
date: 2020-02-04
author: liuwei
location: Zhengzhou
---
> 待更新

### 安装
```
sudo apt-get update
sudo apt-get install mysql-server
```

### 启动、停止、重启、配置
```
sudo service mysql start
sudo /etc/inint.d/mysql start
sudo service mysql stop
sudo /etc/inint.d/mysql stop
sudo service mysql restart
sudo /etc/inint.d/mysql restart
sudo service mysql status
sudo mysql_secure_installation
```

### 登录
```
sudo mysql -u root -p
```

### 创建库
```sql
create database test;
```

### 设置其他用户
```sql
grant all privileges on my_base.* to user_name@localhost  identified by "pass";
grant all privileges on *.* to user_name@"%" identified by "pass";
```

### 显示所有库
```sql
show databases;
```

### 创建新库
```sql
CREATE DATABASE houdunren CHARSET utf8;
```

### 删除数据库
```sql
drop database houdunren;
drop database if exists houdunren;
```

### 选择数据库
```sql
use houdunren;
```

### 数据库导出
```
sudo mysqldump -uroot -p sqlName > fileName.sql
```

### 两种数据库导入
```
mysql -uname -p abc < abc.sql
mysql>use my_base;
mysql>source /home/abc/abc.sql;
```

### 创建表
```sql
create table my_list (
	id int primary key auto_increment,
	list_name varchar(30) not null,
	description varchar(100) default null
) 
charset=utf8 
comment='test';
```

### 删除表
```sql
drop table if exists my_list;
```

### 查看表
```sql
desc my_list;
```

### 插入数据
```sql
insert into my_list 
set
list_name = 'mysql', 
description = '数据库';

insert into my_list 
(list_name, description)
values 
('php', 'web脚本'), 
('js', 'ecma2015');
```

### 复制表结构，之后插入数据
```sql
create table list2 like my_list;

insert into list2 
select * from my_list;
```

### 复制表结构与数据
```sql
create table list3
select * from my_list;
```

### 复制一个表的指定字段数据
```sql
insert into list4
(list_name)
select list_name from my_list;
```

### 基本查询
```sql
select *
from my_list;
select list_name, description
from my_list;
```

### 条件筛选
```sql
select list_name, description
from my_list
where list_name = 'php';

select list_name, description
from my_list
where id>1
or list_name = 'mysql';

select *
from my_list
where list_name = 'php'
and id < 4;

select * 
from my_list
where list_name not like '%p%';
```

### 查询结果排序
```sql
select *
from my_list
order by id desc;

select *
from my_list
order by description desc, id asc;
```








